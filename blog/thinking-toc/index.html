<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0">
	<meta http-equiv="Content-Language" content="ja" />
	<meta name="keywords" content="jquery,javascript,css" />
	<meta name="description" content="" />
	<title>TOC（目次メニュー）の実装方法について考えてみる | CYOKODOG</title>
	<link rel="shortcut icon" href="/__theme/cyokodog/favicon.ico">
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<!--
	<link href='http://fonts.googleapis.com/css?family=Raleway:300' rel='stylesheet' type='text/css'>-->

	<link href='/__theme/cyokodog/raleway.css' rel='stylesheet' type='text/css'>
  <link rel='stylesheet' id='style-css'  href='/__theme/cyokodog/index.css' type='text/css' media='all' />


</head>
<body class="single single-post postid-232 single-format-standard logged-in " >
	<div class="l-header">
		<div class="u-layout-center">
      <div class="site-header">
        <a class="site-header__logo" href="/">
          <img src="https://lh4.googleusercontent.com/-u47wdUJYuNk/Tuiz2w6sLuI/AAAAAAAAEGA/v0cmgN4ZysU/s144/DSC01588.JPG"/>
        </a>
        <div class="site-header__text">
          <h1>
            <a href="/">CYOKODOG</a>
            <span class="social-icons">
              <a class="fa fa-github-square" href="https://github.com/cyokodog"></a>
              <a class="fa fa-twitter-square" href="https://twitter.com/cyokodog"></a>
              <a class="fa fa-facebook-square" href="https://www.facebook.com/cyokodog.net"></a>
              <a class="fa fa-google-plus-square" href="https://plus.google.com/u/0/115524754009910942363/posts"></a>
            </span>
          </h1>
          <h2>DEVELOPER BLOG
          </h2>
        </div>

<!--         <div class="site-header__search">
          <form class="searchForm" action="http://www.google.com/search" method="get">
            <input class="searchForm__queryData" name="q" type="hidden"/>
            <input class="searchForm__query" type="text" id="s" value=""/>
          </form>
			  </div>
 -->
      </div>
    </div>
	</div>

	<div class="l-site-nav">
		<div class="u-layout-center">
			<div class="tab site-nav">
        <ul>
          <li class="page_item ">
            <a href="/">HOME</a>
          </li>
          <li class="page_item current_page_parent">
            <a href="/blog/">BLOG</a>
          </li>
        </ul>
      </div>
		</div>
	</div>

  <div class="l-contents">
    <div class="u-layout-center">
<div class="l-article">
  <article class="article">

    <div class="article__header">
      <h1 class="article__title">
        <a href="/blog/thinking-toc/" title="TOC（目次メニュー）の実装方法について考えてみる">TOC（目次メニュー）の実装方法について考えてみる</a>
      </h1>
      <ul class="article__info">
        <li class="article__info__date">2015-03-09</li>
<!--
        <li class="article__info__category"><a href="/category/javascript/" rel="category tag">JavaScript</a></li>
-->
      </ul>
    </div>
    <div class="article__body">
    <p><div class="article__eyecatch">
  <a href="http://www.cyokodog.net/blog/thinking-toc/"><img src="http://lh4.googleusercontent.com/-O_NZPRs1P-U/VQHKXZnVZ0I/AAAAAAAAI5E/rncNpstSV-E/s800/tocjs.png"></a>
</div></p>
<p>みなさん、日々の勉強で得たナレッジはどこに記録されてますか？<br>
自分の場合、少しでも気になって調べた事はとりあえずマークダウンで記述してテキストファイルに保存してます（閲覧は HTML 形式に変換したドキュメントをロカール web サーバや Bitbucket 越しに参照してます）。
そんな調子で気軽にメモしてくと情報量がすぐに増えてしまうので、見出し要素ごとにカテゴライズされたコンテンツに素早く移動するための TOC（目次メニュー）は欠かせない機能です。<br>
今回はこの目次メニューの実装方法について考えてみました。</p>

<!--more-->
<h2>UI の生成機能の実装方法について</h2>

<p>目次メニューに限った話ではありませんが、UI を生成する実装を考えた時、UI はサイトの印象に強い影響を与えるデザインの一部でもあるため、本当の意味での汎用性のある UI 生成処理の実装は非常に難しいものだと感じています。</p>

<p>そうした汎用性を意識しすぎて機能過多な実装にするよりは、UI 生成機能はシンプルにし、生成処理に必要となる情報の提供を充実させた方が良いのかなと思ったりもします。</p>

<p>そこで今回は以下の様に、「UI 生成に必要な情報の生成」「UI の生成」という単位で処理を分離し実装してみたいと思います。</p>

<ol>
<li>目次の対象となる見出し情報データの抽出・生成</li>
<li>目次の親子情報の紐付け処理</li>
<li>目次 UI の生成</li>
</ol>

<p>上記処理単位で API を用意することで、データの生成部である 1,2 は汎用的に使用できるようにし、3 の UI 生成についてはデフォルトで提供されてるもので問題なければそれを使用し、だめなら 1,2 で生成したデータを使用し独自に生成する、というコンセプトで目次生成ライブラリを作ってみたいと思います。</p>

<h2>目次の対象となる見出し情報データの抽出・生成</h2>

<p>マークダウンで記述したドキュメントあるいは、ブログ等の投稿記事の場合、そこに書かれたそれぞれの見出し要素は DOM ツリー上、兄弟関係にあるかと思います。
その前提で「目次の対象となる見出し情報データの抽出・生成」処理の API を以下のように定義してみます。</p>

<pre><code>function createHeadingArray(
    startHeadingElement, // 目次の先頭となる見出し要素
    fromHeadingLevel, // 目次に拾い上げる見出しの分類の範囲（from）
    toHeadingLevel // 目次に拾い上げる見出しの分類の範囲（to）
)
return [
    {
        el: element, // 見出しの DOM 要素
        level: number // 見出し分類レベル（例. h2 の場合は 2）
    },
    ...
]
</code></pre>

<p><br>
実装イメージとしては startHeadingElement を起点に後方の兄弟要素を順番に取得し、見出し要素だった場合は返却値である配列に順次格納していくという単純なものです。
以下のように実装してみます。</p>

<pre><code>// ヘッダー
var TOC = {};
TOC.createHeadingArray = createHeadingArray;

// ボディ
function createHeadingArray(
    startHeadingElement,
    fromHeadingLevel,
    toHeadingLevel
){
    var _domToHeadingArray = function(arr, element){
        if(!element) return;
        var re = new RegExp('h([' + fromHeadingLevel + '-' + toHeadingLevel + '])+', 'i')
        var headers = re.exec(element.tagName);
        !headers|| headers.forEach(function(level, i){
            if(!i) return;
            arr.push({
                level: level,
                el: element
            });
        })
        _domToHeadingArray(arr, element.nextElementSibling);
        return arr;
    }
    return _domToHeadingArray([], startHeadingElement);
}
</code></pre>

<p><br>
返却値を配列にすることで、Array オブジェクトの持つ filter() メッド等が使用できるので、
これを使い目次の対象としたくない見出し要素をオミットすることもできます。
例えば自分の場合、コードのハイライト表示を行う jQuery プラグインを使用してる関係で h4 要素に code demo などと記述する場合があり、これをオミットするため以下のようにしてます。</p>

<pre><code>var headingArray = TOC.createHeadingArray(
    document.querySelector('body &gt; h2'), 2, 4
).
filter(function(v, i){
    return !/\s(demo|code)\s/i.test(' '+v.el.textContent+' ');
});
</code></pre>

<p><br>
では、取得した見出し情報セットを使用し、TOC の UI を独自に生成してみます。</p>

<pre><code>var ul = $('&lt;ul class="toc"/&gt;').appendTo('.sidebar');
headingArray.forEach(function(data, i){
    $('&lt;li/&gt;').
    addClass('level-' + data.level). // クラス名を付与
    html(
        $('&lt;a href="javascript:void(0)"/&gt;').
        on('click', function(){
            $('html,body').animate({scrollTop: $(data.el).offset().top})
        }).
        text(data.el.textContent)
    ).
    appendTo(ul);
});
</code></pre>

<p><br>
li 要素に見出しレベル毎にクラス名を割り振ってるので、CSS を以下のように記述することで目次らしい UI にすることができます。</p>

<pre><code>.toc .level-2{
    margin-left: 0;
}
.toc .level-3{
    margin-left: 16px;
}
.toc .level-4{
    margin-left: 32px;
}
</code></pre>

<p><a href="http://cyokodog.github.io/TocJS?01">DEMO</a></p>

<h2>目次の親子情報の紐付け処理</h2>

<p>前述の処理で生成した目次メニューは、１つの UL のみで構成された単純なもので、コンテンツとしての親子関係を持ってません。
例えば、目次メニューをアコーディオン UI にしたい場合は、UL -&gt; LI -&gt; UL ・・・といった具合に目次メニューを入れ子構成にする必要があります。</p>

<p>そこで前述の処理で生成した headingArray に対し、「目次の親子情報の紐付け処理」を行う機能を実装します。
API は以下のように定義します。</p>

<pre><code>function addRelationShip(headingArray)
</code></pre>

<p><br>
引数として受け取った headingArray に対し、見出し要素間の親子情報である parentNode と children を追加する仕様にします。</p>

<pre><code>[
    {
        el: element,
        level: number,
        parentNode: element // 親に当たる見出し要素
        children: [
            element, // 子に当たる見出し要素
            ...
        ]
    },
    ...
]
</code></pre>

<p><br>
実装方法は、見出し要素個別に親もしくは子要素を探してきますが、複数存在する可能性のある子供要素を見つけるより、１つしかありえない親要素を見つけるロジックの方が単純そうなので、以下のよう DOM ツリーの下方から遡り親要素を探してく実装にしてみました。</p>

<pre><code>// ヘッダ
TOC.addRelationShip = addRelationShip;

// ボディ
function addRelationShip(headingArray){
    var len = headingArray.length;
    for(var i = len-1; i &gt;= 0; i--){
        if(i &gt; 0){
            var _getParentNode = function(selfIndex){
                for(var i = selfIndex; i &gt;= 0; i--){
                    if(i &gt; 0){
                        var beforeNode = headingArray[i-1];
                        if(beforeNode.level &lt; headingArray[selfIndex].level) {
                            return beforeNode;
                        }
                    }
                }
                return undefined;
            }
            var currentNode = headingArray[i];
            var parentNode = _getParentNode(i);
            if(parentNode){
                currentNode.parentNode = parentNode;
                parentNode.children = parentNode.children || [];
                parentNode.children.push(currentNode);
            }
        }
    }
    return this;
}
</code></pre>

<p><br>
では、見出しの親子関係を参照し、UL を入れ子構成にした目次メニューを生成してみます。</p>

<pre><code>・・・

// 親子情報の紐付け
TOC.addRelationShip(headingArray);

// UI 生成
var ul = $('&lt;ul/&gt;').appendTo('.sidebar');
headingArray.forEach(function(data, i){
    var container = ul;
    if(data.parentNode){
        container = data.parentNode.childrenContainer =
            data.parentNode.childrenContainer ||
            $('&lt;ul/&gt;').appendTo(data.parentNode.item)
    }
    data.item = 
        $('&lt;li/&gt;').html(
            $('&lt;a href="javascript:void(0)"/&gt;').
            on('click', function(){
                $('html,body').animate({scrollTop: $(data.el).offset().top})
            }).
            text(data.el.textContent)
        ).
        appendTo(container);
</code></pre>

<p><a href="http://cyokodog.github.io/TocJS?02">DEMO</a></p>

<h2>目次 UI の生成</h2>

<p>サイトイメージによって求める UI デザインが異なるとはいえ、ちょっとしたメモのストック場所としてページを使用してる場合、簡単な目次メニューぐらいはライブラリ側で生成してほしいところです。
なので前述で実装した目次メニューを jQuery 非依存で動作するようにしライブラリの一機能としてみます。</p>

<pre><code>//ヘッダ
TOC.toTocUi = toTocUi;

//ボディ
function toTocUi(headingArray){
    var ul = document.createElement('ul');
    headingArray.forEach(function(v, i){
        var container = ul;
        if(v.parentNode){
            container = v.parentNode.childrenContainer;
            if(!container){
                container = 
                    v.parentNode.childrenContainer = 
                        document.createElement('ul');
                v.parentNode.item.appendChild(container);
            }
        }
        var link = document.createElement('a');
        link.href='javascript:void(0)';
        link.textContent = v.el.textContent;
        link.addEventListener('click', function(){
            if(jQuery){
                // jQuery が存在してた場合はスムーススクロール
                $('head,body').animate({scrollTop:$(v.el).offset().top});
            }
            else{
                v.el.scrollIntoView(true)
            }
        }, false)
        var li = v.item = document.createElement('li');
        li.appendChild(link);
        container.appendChild(li);
    })
    return ul;
}
</code></pre>

<p><br>
以下のように使用します。</p>

<pre><code>// 目次データセットの生成
var headingArray = TOC.createHeadingArray(
    document.querySelector('body &gt; h2'), 2, 4
);

// 目次の親子情報の紐付け
TOC.addRelationShip(headingArray);

// 目次 UI の挿入
var toc = TOC.toTocUi(headingArray);
document.querySelector('.sidebar').appendChild(toc);
</code></pre>

<p><a href="http://cyokodog.github.io/TocJS?03">DEMO</a></p>

<h2>ソースコード</h2>

<p>ソースは以下にあります。</p>

<ul>
<li><a href="https://github.com/cyokodog/TocJS">TocJS | GitHub</a></li>
</ul>

<h4>code</h4>

<h5>script</h5>

<pre><code>;(function(){
    //namespace
    window.TOC = {}

    //header
    TOC.createHeadingArray = createHeadingArray;
    TOC.addRelationShip = addRelationShip;
    TOC.toTocUi = toTocUi;

    //body
    function createHeadingArray(startHeadingElement, fromHeadingLevel, toHeadingLevel){
        var _domToHeadingArray = function(arr, element){
            if(!element) return;
            var re = new RegExp('h([' + fromHeadingLevel + '-' + toHeadingLevel + '])+', 'i')
            var headers = re.exec(element.tagName);
            !headers|| headers.forEach(function(level, i){
                if(!i) return;
                arr.push({
                    level: level,
                    el: element
                });
            })
            _domToHeadingArray(arr, element.nextElementSibling);
            return arr;
        }
        return _domToHeadingArray([], startHeadingElement);
    }
    function addRelationShip(headingArray){
        var len = headingArray.length;
        for(var i = len-1; i &gt;= 0; i--){
            if(i &gt; 0){
                var _getParentNode = function(selfIndex){
                    for(var i = selfIndex; i &gt;= 0; i--){
                        if(i &gt; 0){
                            var beforeNode = headingArray[i-1];
                            if(beforeNode.level &lt; headingArray[selfIndex].level) {
                                return beforeNode;
                            }
                        }
                    }
                    return undefined;
                }
                var currentNode = headingArray[i];
                var parentNode = _getParentNode(i);
                if(parentNode){
                    currentNode.parentNode = parentNode;
                    parentNode.children = parentNode.children || [];
                    parentNode.children.push(currentNode);
                }
            }
        }
        return this;
    }
    function toTocUi(headingArray){
        var ul = document.createElement('ul');
        headingArray.forEach(function(v, i){
            var container = ul;
            if(v.parentNode){
                container = v.parentNode.childrenContainer;
                if(!container){
                    container = v.parentNode.childrenContainer = document.createElement('ul');
                    v.parentNode.item.appendChild(container);
                }
            }
            var link = document.createElement('a');
            link.href='javascript:void(0)';
            link.textContent = v.el.textContent;
            link.addEventListener('click', function(){
                if(jQuery){
                    $('head,body').animate({scrollTop:$(v.el).offset().top});
                }
                else{
                    v.el.scrollIntoView(true)
                }
            }, false)
            var li = v.item = document.createElement('li');
            li.appendChild(link);
            container.appendChild(li);
        })
        return ul;
    }
})();
</code></pre>

<h2>最後に</h2>

<p>jQuery プラグインを実装する際、jQuery の DOM 機能が強力な故に、いきなり DOM をまさぐり、書き換え、目的とする UI の生成をしがちですが、デザインと機能とデータの分離を意識した実装にすることで、汎用処理としての再利用性を高めることができるかもしれません。
今後はその辺も意識した実装を行っていきたいと思います。</p>


    </div>

  </article>
</div>

  <div class="l-page-nav">
    <div class="l-page-nav__body">
  
  <!--
      <div class="wp-widget">
        <div class="wp-widget__header">OTHER BLOG</div>
        <div class="menu-other-blog-container">
          <ul id="menu-other-blog" class="menu">
            <li id="menu-item-207" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-207"><a href="http://cyokodog.tumblr.com/">CYOKOLOG | Tumblr</a></li>
            <li id="menu-item-208" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-208"><a href="http://d.hatena.ne.jp/cyokodog/">Cyokodog :: Diary | Hatena</a></li>
            <li id="menu-item-209" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-209"><a href="http://d.hatena.ne.jp/cyokodog-memo/">Cyokodog :: Memo | Hatena</a></li>
          </ul>
        </div>
      </div>
  
      <div class="wp-widget">
        <div class="wp-widget__header">Category</div>
        <ul>
          <li><a href="/category/backbone-js/">Backbone.js</a></li>
          <li><a href="/category/angular/">Angular</a></li>
          <li><a href="/category/jquery/">jQuery</a></li>
          <li><a href="/category/info/">Information</a></li>
          <li><a href="/category/life/">Life</a></li>
          <li><a href="/category/javascript/">JavaScript</a></li>
          <li><a href="/category/wordpress/">WordPress</a></li>
          <li><a href="/category/cloud-service/">Cloud Service</a></li>
        </ul>
      </div>
  
      <div class="wp-widget">
        <div class="wp-widget__header">Recent Posts</div>
        <ul>
          <li><a href="/blog/media-capture-and-streams-web-audio-api/">Media Capture and Streams と Web Audio API で実現する録画・録音・ WAVファイルの生成</a></li>
          <li><a href="/blog/web-speechi-api/">ブラウザのみで音声認識とテキスト読み上げを実現する Web Speech API</a></li>
          <li><a href="/blog/thinking-toc/">TOC（目次メニュー）の実装方法について考えてみる</a></li>
          <li><a href="/blog/web-audio-api-music/">HTML5 の Web Audio API で音楽してみる</a></li>
          <li><a href="/blog/first-node-js/">Windows ではじめてみる Node.js</a></li>
          <li><a href="/blog/angular/">MVWフロントエンド・フレームワーク、AngularJS をはじめてみる</a></li>
          <li><a href="/blog/backbone-js/">Backbone.js ではじめるクライアントサイド MVC プログラミング</a></li>
          <li><a href="/blog/pull-request-github/">Pull Request ではじめてみる！GitHub ソーシャルコーディング</a></li>
          <li><a href="/blog/javascript-prototype/">JavaScript の prototype オブジェクト入門</a></li>
          <li><a href="/blog/easy-code-prettify-doc/">マークダウンにも優しいライブデモ対応シンタックスハイライター jQuery プラグイン</a></li>
          <li><a href="/blog/ex-code-prettify-v05/">Ex Code Prettify をバージョンアップしました【追記あり】</a></li>
          <li><a href="/blog/sk8-bs-bordslide/">うちの小３男子がダウンレールでＢ／Ｓボードスライドを習得した</a></li>
          <li><a href="/blog/twitter-cards/">WordPress 製のブログを Twitter カードに対応させてみた</a></li>
          <li><a href="/blog/wordpress-ogp/">WordPress 製のブログを OGP(Open Graph Protocol) に対応させてみた</a></li>
          <li><a href="/blog/fade-page-doc/">フェード効果で「ふわっ」とページ切替を行う jQuery プラグイン</a></li>
          <li><a href="/blog/fade-page-change/">フェードイン／フェードアウトで「ふわっ」とページを切り替える【追記あり】</a></li>
          <li><a href="/blog/fit-sidebar-doc/">レスポンシブ対応でサイドメニューを一定範囲で固定表示する jQuery プラグイン</a></li>
          <li><a href="/blog/making-fg-chopper/">挑戦！自作フィギュア　ワンピース・チョッパー編</a></li>
          <li><a href="/blog/sketch-akuma-cyoojin/">大人だけど全力で「７人の悪魔超人編」の絵を描いてみた</a></li>
          <li><a href="/blog/making-fg-ramen-2/">挑戦！自作フィギュア　ラーメンマン編　その２</a></li>
          <li><a href="/blog/making-fg-ramen-1/">挑戦！自作フィギュア　ラーメンマン編　その１</a></li>
          <li><a href="/blog/fitbar-doc/">ツールバーをスクロール位置に応じ画面の上下にピタっと固定表示する jQuery プラグイン</a></li>
          <li><a href="/blog/picasa-zoom-doc/">Picasa の写真の拡大／縮小を簡単に行うことできる jQuery プラグイン</a></li>
          <li><a href="/blog/making-fg-2/">挑戦！自作フィギュア　ウォーズマン編　その２</a></li>
          <li><a href="/blog/dqy-excel/">システム管理者におすすめ！SQL の実行結果を手軽にエクセルに出力する方法</a></li>
          <li><a href="/blog/update-easy-social-buttons-and-social-info/">Easy Social Buttons と Social Info で Google+ の共有数を表示／取得できるようにしました</a></li>
          <li><a href="/blog/mailto-doc/">mailto:リンク機能を利用しやすくする jQuery プラグイン</a></li>
          <li><a href="/blog/ml-narisumasi-gmail-and-gas/">メーリングリストの「なりすまし」判定を Gmail と Google Apps Script で回避する方法</a></li>
          <li><a href="/blog/making-fg-1/">挑戦！自作フィギュア　ウォーズマン編　その１</a></li>
          <li><a href="/blog/find-fg-akiba-3/">第３回アキバ・フィギュア探しの旅</a></li>
          <li><a href="/blog/easy-social-buttons-doc/">はてブ、Twitter、Facebook、Google+ のソーシャルボタンをシンプルに表示する jQuery プラグイン</a></li>
          <li><a href="/blog/wordpress-openshift/">PaaS で動かす WordPress ＋ OpenShift 入門</a></li>
          <li><a href="/blog/first-appengine-and-struts2/">Google App Engine for Java 入門 ＋ Struts2 デプロイ手順</a></li>
          <li><a href="/blog/first-struts2/">2014年度版 Eclipse + Struts2 による Java Web アプリ開発入門</a></li>
          <li><a href="/blog/social-info-doc/">はてブ、Twitter、Facebook、Google+ などのソーシャル系サービスの API を手軽に使用できるようにする jQuery プラグイン</a></li>
          <li><a href="/blog/easy-feed-doc/">Google Feed API を手軽に利用できるようにする jQuery プラグイン</a></li>
          <li><a href="/blog/find-fg-akiba-2/">第２回アキバ・フィギュア探しの旅</a></li>
          <li><a href="/blog/sketch-kinnikuman/">大人だけど全力でキン肉マンの絵を描いてみた</a></li>
          <li><a href="/blog/hash-contents-doc/">location.hash に応じタブ、アコーディオン、ツリービュー形式等でコンテンツを切り替える jQuery プラグイン</a></li>
          <li><a href="/blog/keep-position-doc/">ページのスクロール位置を維持したままフォーム送信やページ切り替えができる jQuery プラグイン</a></li>
          <li><a href="/blog/find-fg-akiba-1/">第１回アキバ・フィギュア探しの旅</a></li>
          <li><a href="/blog/keyinfo-doc/">入力キーの種類を調べることができる jQuery プラグイン</a></li>
          <li><a href="/blog/parse-url-doc/">URL の構成要素や QueryString の値を簡単に参照できるようにする jQuery プラグイン</a></li>
          <li><a href="/blog/ex-scroll-doc/">スクロールイベントの開始／終了、方向を判別できる jQuery プラグイン</a></li>
          <li><a href="/blog/ex-code-prettify-doc/">その場で編集／実行できるシンタックスハイライター jQuery プラグイン</a></li>
          <li><a href="/blog/garamodel02/">ガラクタで重厚感のあるおもちゃを作ってみた ～その２～</a></li>
          <li><a href="/blog/garamodel/">ガラクタで重厚感のあるおもちゃを作ってみた</a></li>
          <li><a href="/blog/bootstrap-datetimepicker-ja/">Bootstrap ベースの日付／時刻ピッカーを日本語環境向けにカスタマイズした jQuery プラグイン</a></li>
          <li><a href="/blog/jquery-hash-contents/">location.hash の値に応じ表示コンテンツを切り替える jQuery プラグインを作ってみた</a></li>
          <li><a href="/blog/jquery-keep-position/">フォームデータ登録後もページスクロール位置を維持する方法を考えてみた</a></li>
          <li><a href="/blog/jquery-sitekit/">Web サイト作成時に必要になりがちな機能をまとめた jQuery プラグイン</a></li>
          <li><a href="/blog/jquery-ex-code-prettify/">Google Code Prettify のかゆいとこをなんとかする jQuery プラグインを書いてみた</a></li>
          <li><a href="/blog/wordpress-markdown-behave_js/">WordPress の Markdown 環境を『Behave.js』でさらに快適にしてみる</a></li>
          <li><a href="/blog/gmail-client/">Google 以外のメールアカウントで Gmail をメールクライアントとして使用する方法</a></li>
          <li><a href="/blog/wordpress-my-setting-plugin-social/">WordPress のこまごま設定プラグインにソーシャルボタン設置機能、他を追加した</a></li>
          <li><a href="/blog/wordpress-my-setting-plugin/">こまごました設定をまとめてできる WordPress プラグイン</a></li>
          <li><a href="/blog/extablefilter/">汎用性重視のテーブルフィルタリング系 jQuery プラグイン</a></li>
          <li><a href="/blog/jquery19-browser/">jQuery 1.9 で $.browser が使えなくなってしまった対策</a></li>
          <li><a href="/blog/first-post/">引っ越してきました</a></li>
          <li><a href="/blog/jquery-simple-table-filter/">jQuery によるシンプルなテーブルフィルタリング処理の実装を考えてみる</a></li>
        </ul>
      </div>
  -->
    </div><!-- l-page-nav -->
  </div><!-- l-page-nav__body -->

  	</div>
  </div><!-- l-contents -->


  <style>
  .l-banner{
    xpadding-top:128px;
    padding-bottom:128px;
    background-image: url(https://lh4.googleusercontent.com/-oCiTMRZC7KI/VEaEI6xu2aI/AAAAAAAAIKk/da528QPvTYY/s800/IMG_1723.png);
    background-repeat: no-repeat;
    background-position: bottom right;
    background-size: 640px
  }
  l-footer{
    margin-top:0;
  }
  .banner iframe,
  .banner img{
    xmargin:16px 0 0;
    max-width: 260px;
    xmax-height: 150px;
    xdisplay:block;
    border:none;
  }
  .banner__pxgrid{
  }
  </style>

  <div class="l-contents l-banner">
    <div class="u-layout-center">
      <div class="banner">
        <div>
          <a href="http://www.codegrid.net/"><img src="/static/img/codegrid.png"/></a><a href="https://www.pxgrid.com/"><img class="banner__pxgrid" src="/static/img/pxgrid.png"/></a>
        </div>
        <div>
          <iframe src="https://www.youtube.com/embed/gZvCPu7qZiM?rel=0&amp;controls=0&amp;showinfo=0" frameborder="0" allowfullscreen></iframe><iframe src="https://www.youtube.com/embed/VKWWFvWsPUg?rel=0&amp;controls=0&amp;showinfo=0" frameborder="0" allowfullscreen></iframe>
        </div>
        <div>
        <iframe src="https://www.youtube.com/embed/5DU59_X-8lw?rel=0&amp;controls=0&amp;showinfo=0" frameborder="0" allowfullscreen></iframe>
        </div>
      </div>
    </div>
  </div><!-- l-contents -->


  <div class="l-footer">
    <div class="u-layout-center">
      <div class="wp-widget">
        <div class="wp-widget__header" id="allPosts">All Posts</div>
          <ul>
            <li>
              <span class="post-date">2015-04-08</span>
              <a href="/blog/media-capture-and-streams-web-audio-api/">Media Capture and Streams と Web Audio API で実現する録画・録音・ WAVファイルの生成</a>
            </li>
            <li>
              <span class="post-date">2015-03-18</span>
              <a href="/blog/web-speechi-api/">ブラウザのみで音声認識とテキスト読み上げを実現する Web Speech API</a>
            </li>
            <li>
              <span class="post-date">2015-03-09</span>
              <a href="/blog/thinking-toc/">TOC（目次メニュー）の実装方法について考えてみる</a>
            </li>
            <li>
              <span class="post-date">2015-02-21</span>
              <a href="/blog/web-audio-api-music/">HTML5 の Web Audio API で音楽してみる</a>
            </li>
            <li>
              <span class="post-date">2015-01-28</span>
              <a href="/blog/first-node-js/">Windows ではじめてみる Node.js</a>
            </li>
            <li>
              <span class="post-date">2015-01-17</span>
              <a href="/blog/angular/">MVWフロントエンド・フレームワーク、AngularJS をはじめてみる</a>
            </li>
            <li>
              <span class="post-date">2015-01-07</span>
              <a href="/blog/backbone-js/">Backbone.js ではじめるクライアントサイド MVC プログラミング</a>
            </li>
            <li>
              <span class="post-date">2014-12-23</span>
              <a href="/blog/pull-request-github/">Pull Request ではじめてみる！GitHub ソーシャルコーディング</a>
            </li>
            <li>
              <span class="post-date">2014-12-14</span>
              <a href="/blog/javascript-prototype/">JavaScript の prototype オブジェクト入門</a>
            </li>
            <li>
              <span class="post-date">2014-11-16</span>
              <a href="/blog/easy-code-prettify-doc/">マークダウンにも優しいライブデモ対応シンタックスハイライター jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2014-11-06</span>
              <a href="/blog/ex-code-prettify-v05/">Ex Code Prettify をバージョンアップしました【追記あり】</a>
            </li>
            <li>
              <span class="post-date">2014-10-26</span>
              <a href="/blog/sk8-bs-bordslide/">うちの小３男子がダウンレールでＢ／Ｓボードスライドを習得した</a>
            </li>
            <li>
              <span class="post-date">2014-10-05</span>
              <a href="/blog/twitter-cards/">WordPress 製のブログを Twitter カードに対応させてみた</a>
            </li>
            <li>
              <span class="post-date">2014-10-02</span>
              <a href="/blog/wordpress-ogp/">WordPress 製のブログを OGP(Open Graph Protocol) に対応させてみた</a>
            </li>
            <li>
              <span class="post-date">2014-09-29</span>
              <a href="/blog/fade-page-doc/">フェード効果で「ふわっ」とページ切替を行う jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2014-09-24</span>
              <a href="/blog/fade-page-change/">フェードイン／フェードアウトで「ふわっ」とページを切り替える【追記あり】</a>
            </li>
            <li>
              <span class="post-date">2014-09-23</span>
              <a href="/blog/fit-sidebar-doc/">レスポンシブ対応でサイドメニューを一定範囲で固定表示する jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2014-09-15</span>
              <a href="/blog/making-fg-chopper/">挑戦！自作フィギュア　ワンピース・チョッパー編</a>
            </li>
            <li>
              <span class="post-date">2014-07-24</span>
              <a href="/blog/sketch-akuma-cyoojin/">大人だけど全力で「７人の悪魔超人編」の絵を描いてみた</a>
            </li>
            <li>
              <span class="post-date">2014-07-15</span>
              <a href="/blog/making-fg-ramen-2/">挑戦！自作フィギュア　ラーメンマン編　その２</a>
            </li>
            <li>
              <span class="post-date">2014-07-11</span>
              <a href="/blog/making-fg-ramen-1/">挑戦！自作フィギュア　ラーメンマン編　その１</a>
            </li>
            <li>
              <span class="post-date">2014-06-24</span>
              <a href="/blog/fitbar-doc/">ツールバーをスクロール位置に応じ画面の上下にピタっと固定表示する jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2014-06-17</span>
              <a href="/blog/picasa-zoom-doc/">Picasa の写真の拡大／縮小を簡単に行うことできる jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2014-06-09</span>
              <a href="/blog/making-fg-2/">挑戦！自作フィギュア　ウォーズマン編　その２</a>
            </li>
            <li>
              <span class="post-date">2014-06-09</span>
              <a href="/blog/dqy-excel/">システム管理者におすすめ！SQL の実行結果を手軽にエクセルに出力する方法</a>
            </li>
            <li>
              <span class="post-date">2014-06-09</span>
              <a href="/blog/update-easy-social-buttons-and-social-info/">Easy Social Buttons と Social Info で Google+ の共有数を表示／取得できるようにしました</a>
            </li>
            <li>
              <span class="post-date">2014-06-05</span>
              <a href="/blog/mailto-doc/">mailto:リンク機能を利用しやすくする jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2014-05-28</span>
              <a href="/blog/ml-narisumasi-gmail-and-gas/">メーリングリストの「なりすまし」判定を Gmail と Google Apps Script で回避する方法</a>
            </li>
            <li>
              <span class="post-date">2014-05-25</span>
              <a href="/blog/making-fg-1/">挑戦！自作フィギュア　ウォーズマン編　その１</a>
            </li>
            <li>
              <span class="post-date">2014-05-18</span>
              <a href="/blog/find-fg-akiba-3/">第３回アキバ・フィギュア探しの旅</a>
            </li>
            <li>
              <span class="post-date">2014-03-25</span>
              <a href="/blog/easy-social-buttons-doc/">はてブ、Twitter、Facebook、Google+ のソーシャルボタンをシンプルに表示する jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2014-03-05</span>
              <a href="/blog/wordpress-openshift/">PaaS で動かす WordPress ＋ OpenShift 入門</a>
            </li>
            <li>
              <span class="post-date">2014-03-02</span>
              <a href="/blog/first-appengine-and-struts2/">Google App Engine for Java 入門 ＋ Struts2 デプロイ手順</a>
            </li>
            <li>
              <span class="post-date">2014-02-25</span>
              <a href="/blog/first-struts2/">2014年度版 Eclipse + Struts2 による Java Web アプリ開発入門</a>
            </li>
            <li>
              <span class="post-date">2014-02-06</span>
              <a href="/blog/social-info-doc/">はてブ、Twitter、Facebook、Google+ などのソーシャル系サービスの API を手軽に使用できるようにする jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2014-01-28</span>
              <a href="/blog/easy-feed-doc/">Google Feed API を手軽に利用できるようにする jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2014-01-04</span>
              <a href="/blog/find-fg-akiba-2/">第２回アキバ・フィギュア探しの旅</a>
            </li>
            <li>
              <span class="post-date">2013-12-17</span>
              <a href="/blog/sketch-kinnikuman/">大人だけど全力でキン肉マンの絵を描いてみた</a>
            </li>
            <li>
              <span class="post-date">2013-12-08</span>
              <a href="/blog/hash-contents-doc/">location.hash に応じタブ、アコーディオン、ツリービュー形式等でコンテンツを切り替える jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2013-12-03</span>
              <a href="/blog/keep-position-doc/">ページのスクロール位置を維持したままフォーム送信やページ切り替えができる jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2013-12-02</span>
              <a href="/blog/find-fg-akiba-1/">第１回アキバ・フィギュア探しの旅</a>
            </li>
            <li>
              <span class="post-date">2013-11-25</span>
              <a href="/blog/keyinfo-doc/">入力キーの種類を調べることができる jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2013-11-05</span>
              <a href="/blog/parse-url-doc/">URL の構成要素や QueryString の値を簡単に参照できるようにする jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2013-10-31</span>
              <a href="/blog/ex-scroll-doc/">スクロールイベントの開始／終了、方向を判別できる jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2013-09-23</span>
              <a href="/blog/ex-code-prettify-doc/">その場で編集／実行できるシンタックスハイライター jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2013-09-07</span>
              <a href="/blog/garamodel02/">ガラクタで重厚感のあるおもちゃを作ってみた ～その２～</a>
            </li>
            <li>
              <span class="post-date">2013-09-04</span>
              <a href="/blog/garamodel/">ガラクタで重厚感のあるおもちゃを作ってみた</a>
            </li>
            <li>
              <span class="post-date">2013-08-14</span>
              <a href="/blog/bootstrap-datetimepicker-ja/">Bootstrap ベースの日付／時刻ピッカーを日本語環境向けにカスタマイズした jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2013-08-12</span>
              <a href="/blog/jquery-hash-contents/">location.hash の値に応じ表示コンテンツを切り替える jQuery プラグインを作ってみた</a>
            </li>
            <li>
              <span class="post-date">2013-07-31</span>
              <a href="/blog/jquery-keep-position/">フォームデータ登録後もページスクロール位置を維持する方法を考えてみた</a>
            </li>
            <li>
              <span class="post-date">2013-07-03</span>
              <a href="/blog/jquery-sitekit/">Web サイト作成時に必要になりがちな機能をまとめた jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2013-04-24</span>
              <a href="/blog/jquery-ex-code-prettify/">Google Code Prettify のかゆいとこをなんとかする jQuery プラグインを書いてみた</a>
            </li>
            <li>
              <span class="post-date">2013-04-17</span>
              <a href="/blog/wordpress-markdown-behave_js/">WordPress の Markdown 環境を『Behave.js』でさらに快適にしてみる</a>
            </li>
            <li>
              <span class="post-date">2013-04-11</span>
              <a href="/blog/gmail-client/">Google 以外のメールアカウントで Gmail をメールクライアントとして使用する方法</a>
            </li>
            <li>
              <span class="post-date">2013-03-31</span>
              <a href="/blog/wordpress-my-setting-plugin-social/">WordPress のこまごま設定プラグインにソーシャルボタン設置機能、他を追加した</a>
            </li>
            <li>
              <span class="post-date">2013-03-25</span>
              <a href="/blog/wordpress-my-setting-plugin/">こまごました設定をまとめてできる WordPress プラグイン</a>
            </li>
            <li>
              <span class="post-date">2013-03-06</span>
              <a href="/blog/extablefilter/">汎用性重視のテーブルフィルタリング系 jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2013-02-27</span>
              <a href="/blog/jquery19-browser/">jQuery 1.9 で $.browser が使えなくなってしまった対策</a>
            </li>
            <li>
              <span class="post-date">2013-02-25</span>
              <a href="/blog/first-post/">引っ越してきました</a>
            </li>
            <li>
              <span class="post-date">2013-02-25</span>
              <a href="/blog/jquery-simple-table-filter/">jQuery によるシンプルなテーブルフィルタリング処理の実装を考えてみる</a>
            </li>
          </ul>
      </div>
    </div>
  </div>

<!--
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-4142215-12']);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
-->

  <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js?ver=1.0'></script>
  <script type='text/javascript' src='/__theme/cyokodog/index.js'></script>

<script>
//document.querySelector('.searchForm')
$('.searchForm').on('submit' , function(){
  $('.searchForm__queryData').val('site:www.cyokodog.net ' + $('.searchForm__query').val());
});
</script>

<style>
.easy-social-buttons-container{
  margin-bottom:32px;
}

</style>

</body>
</html>


