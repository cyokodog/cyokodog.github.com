<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0">
	<meta http-equiv="Content-Language" content="ja" />
	<meta name="keywords" content="jquery,javascript,css" />
	<meta name="description" content="" />
	<title>zone.js と async / await を併用してみる | CYOKODOG</title>
	<link rel="shortcut icon" href="/theme/cyokodog/favicon.ico">
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<!--
	<link href='http://fonts.googleapis.com/css?family=Raleway:300' rel='stylesheet' type='text/css'>-->

  <link href='/theme/cyokodog/raleway.css' rel='stylesheet' type='text/css'>
  <link rel='stylesheet' href='/theme/cyokodog/css/app.min.css?a' type='text/css' media='all' />
  <link rel='stylesheet' id='style-css'  href='/theme/cyokodog/index.css' type='text/css' media='all' />


</head>
<body class="single single-post postid-232 single-format-standard logged-in " >
	<div class="l-header">
		<div class="u-layout-center">
      <div class="site-header">
        <a class="site-header__logo" href="/">
          <img src="https://lh4.googleusercontent.com/-u47wdUJYuNk/Tuiz2w6sLuI/AAAAAAAAEGA/v0cmgN4ZysU/s144/DSC01588.JPG"/>
        </a>
        <div class="site-header__text">
          <h1>
            <a href="/">CYOKODOG</a>
            <span class="social-icons">
              <a class="fa fa-github-square" href="https://github.com/cyokodog"></a>
              <a class="fa fa-twitter-square" href="https://twitter.com/cyokodog"></a>
              <!--<a class="fa fa-facebook-square" href="https://www.facebook.com/"></a>-->
              <a class="fa fa-google-plus-square" href="https://plus.google.com/u/0/115524754009910942363/posts"></a>
            </span>
          </h1>
          <h2>JS DEVELOPER BLOG
          </h2>
        </div>

<!--         <div class="site-header__search">
          <form class="searchForm" action="http://www.google.com/search" method="get">
            <input class="searchForm__queryData" name="q" type="hidden"/>
            <input class="searchForm__query" type="text" id="s" value=""/>
          </form>
			  </div>
 -->
      </div>
    </div>
	</div>

	<div class="l-site-nav">
		<div class="u-layout-center">
			<div class="tab site-nav">
        <ul>
          <li class="page_item ">
            <a href="/">HOME</a>
          </li>
          <li class="page_item current_page_parent">
            <a href="/blog/">BLOG</a>
          </li>
        </ul>
      </div>
		</div>
	</div>

  <div class="l-contents">
    <div class="u-layout-center">
<div class="l-article">
  <article class="article">

    <div class="article__header">
      <h1 class="article__title">
        <a href="/blog/zone-async-await/" title="zone.js と async / await を併用してみる">zone.js と async / await を併用してみる</a>
      </h1>
      <ul class="article__info">
        <li class="article__info__date">2017-05-06</li>
<!--
        <li class="article__info__category"><a href="" rel="category tag"></a></li>
-->
      </ul>
    </div>
    <div class="article__body">
    <p>zone.js と async / await を併用すると面倒な非同期処理を楽して書けそう... ということで、ここ最近これらについて試してたことをメモっておく。</p>
<p>リポジトリ：<a href="https://github.com/cyokodog/zone_study">https://github.com/cyokodog/zone_study</a></p>
<!--more-->
<h2 id="async-await">async / await</h2>
<p>async / await は、Promise による非同期処理を同期処理っぽく簡潔に書ける機能。なにがどう簡潔になったのかは以下の動画が分かりやすい。Callback -&gt; Promise -&gt; async / await 順でそれぞれの書き方がどう変化するかを表現してる。</p>
<p><blockquote class="twitter-tweet" data-lang="ja"><p lang="en" dir="ltr">understanding async/await in 7 seconds <a href="https://t.co/IJOQJ2DR35">pic.twitter.com/IJOQJ2DR35</a></p>&mdash; Wassim Chegham (@manekinekko) <a href="https://twitter.com/manekinekko/status/855824609299636230">2017年4月22日</a></blockquote></p>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>async / await は、Chrome 55 から、Node.js では v7.6.0 から利用可能（ただしメモリリークが激しいとかいう噂がある？）で、これより古いバージョンで利用する場合は Babel による変換が必要。</p>
<ul>
<li>ref: <a href="https://developers.google.com/web/fundamentals/getting-started/primers/async-functions">非同期関数 - Promise をわかりやすくする | Google Developers</a></li>
</ul>
<p>以下設定で試してみた。</p>
<p>package.json</p>
<pre><code>{
  &quot;devDependencies&quot;: {
    &quot;babel-cli&quot;: &quot;6.24.1&quot;,
    &quot;babel-plugin-transform-runtime&quot;: &quot;6.23.0&quot;,
    &quot;babel-preset-es2015&quot;: &quot;6.24.1&quot;,
    &quot;babel-preset-stage-3&quot;: &quot;6.24.1&quot;
  }
}
</code></pre><p>.babelrc</p>
<pre><code>{
  &quot;presets&quot;: [&quot;es2015&quot;,&quot;stage-3&quot;],
  &quot;plugins&quot;: [
    [
      &quot;transform-runtime&quot;,
      {
        &quot;polyfill&quot;: false,
        &quot;regenerator&quot;: true
      }
    ]
  ]
}
</code></pre><p>transform-runtime の指定をしないと実行時に「regeneratorRuntime is not defined」とかいうエラーがでる。この regeneratorRuntime とかいう関数は、Babel が生成するもので、Generator 相当の polyfill コードらしい。上記設定でこのコード変換が抑止され、Node.js の持っている Generator が使用されるようになる。</p>
<h2 id="async-await-">async / await を使ってみる</h2>
<p>後述の zone.js を併用した時の効果を確認するために、次のようなコードで async / await の動作を確認してみた。</p>
<p>まず、日英の言語設定ファイルを定義する。</p>
<p>settings_jp.js</p>
<pre><code>export default {
  users: {
    taro: &#39;太郎&#39;,
    jiro: &#39;次郎&#39;
  },
  messages: {
    hello: &#39;こんにちわ&#39;,
    bye: &#39;さようなら&#39;
  }
};
</code></pre><p>settings_en.js</p>
<pre><code>export default {
  users: {
    taro: &#39;Taro&#39;,
    jiro: &#39;Jiro&#39;
  },
  messages: {
    hello: &#39;Hello&#39;,
    bye: &#39;Bye&#39;
  }
};
</code></pre><p>それぞれの言語設定と、名前 ID、メッセージ ID を引数に、挨拶文の取得関数を呼ぶ。</p>
<pre><code>import SETTINGS_JP from &#39;../data/settings_jp&#39;;
import SETTINGS_EN from &#39;../data/settings_EN&#39;;
import fetchGreetMessage from &#39;./fetchGreetMessage&#39;;

// JP
fetchGreetMessage(SETTINGS_JP, &#39;taro&#39;, &#39;hello&#39;).then(msg =&gt; console.log(msg));
fetchGreetMessage(SETTINGS_JP, &#39;jiro&#39;, &#39;bye&#39;).then(msg =&gt; console.log(msg));

// EN
fetchGreetMessage(SETTINGS_EN, &#39;taro&#39;, &#39;hello&#39;).then(msg =&gt; console.log(msg));
fetchGreetMessage(SETTINGS_EN, &#39;jiro&#39;, &#39;bye&#39;).then(msg =&gt; console.log(msg));
</code></pre><p>これを実行すると一定の間をおいて、次のように表示される。</p>
<pre><code>こんにちわ, 太郎
さようなら, 次郎
Hello, Taro
Bye, Jiro
</code></pre><p>挨拶文は次のような非同期処理で取得している。</p>
<p>fetchGreetMessage/index.js</p>
<pre><code>import fetchMessage from &#39;./fetchMessage&#39;;
import fetchName from &#39;./fetchName&#39;;

export default async (settings, userId, msgId) =&gt; {
  const name = await fetchName(settings, userId);
  const message = await fetchMessage(settings, msgId);
  return `${message}, ${name}`;
}
</code></pre><p>fetchName、fetchMessage は Promise を返す関数のため本来、then(callback) による非同期的な記述が必要だが、ここではそれらの関数に await 構文を適用することで同期的な記述で直接値を得ている。await 構文を利用する場合は、以下例のように、必ずその処理を実行している関数が async 構文で書かれてる必要がある。</p>
<pre><code>async f() =&gt; {
  await doSomethingAsPromise();
}
</code></pre><p>Promise による「名前」と「メッセージ」の取得処理は次のとおり。</p>
<p>fetchGreetMessage/fetchName</p>
<pre><code>export default (settings, userId) =&gt; {
  return new Promise(resolve =&gt; {
    setTimeout(function(){
      resolve(settings.users[userId]);
    }, 1000);
  });
}
</code></pre><p>fetchGreetMessage/fetchMessage</p>
<pre><code>export default (settings, msgId) =&gt; {
  return new Promise(resolve =&gt; {
    setTimeout(function(){
      resolve(settings.messages[msgId]);
    }, 2000);
  });
}
</code></pre><h2 id="async-await-">async / await と非同期処理のかゆいところ</h2>
<p>await 構文は記述をシンプルにし処理の見通しをかなりよくすることができる一方、Promise().catch() で指定できたエラーハンドリングの記述ができない。これについては await を適用してる関数毎に try〜catch をするしかない。</p>
<pre><code>let name;
try {
  name = await fetchName(settings, userId);
} catch (e) {
  // エラー時の処理
}

let message;
try {
  message = await fetchMessage(settings, msgId);
} catch (e) {
  // エラー時の処理
}
</code></pre><p>また、上記の処理では言語設定情報を、引数として末端の関数まで運んでいるが、本来、これらの情報は１つのコンテキストデータとして、自由なタイミングで参照できるようにしたいところ。具体的には日本語設定を適用し処理してる間は、日本語の設定情報が取得でき、英語設定で処理してる間は、英語のそれが取得できる、といった具合にしたい。</p>
<p>しかし、見た目上は await 構文により同期的に処理されてるように見えても、日英それぞれの設定で同時に非同期処理が動いている以上、上記のような細分化されたモジュール構成を前提とした場合、これを実現するのは難しい（クロージャを適用できないので）。</p>
<p>そこで zone.js を使用し、これらの問題解決を試みてみる。</p>
<h2 id="angular-zone-js">Angular のパフォーマンスを支える zone.js</h2>
<p>zone.js といえば Angular...、Angular との関係をざっくりと。</p>
<ul>
<li>zone.js は Dart の言語仕様である Zone を JS で動くようにしたもの</li>
<li>Angular のプロト的な位置づけとして Angular Dart が存在する</li>
<li>Angular Dart は Zone ありきで設計されている</li>
<li>Zone の JS における標準仕様化が提案されてる（現在 <a href="https://github.com/domenic/zones">stage0</a>）</li>
<li>Zone はあらゆる非同期処理の開始と終了を傍受できる</li>
<li>Zone は非同期処理に対してコンテキストを持たすことができる</li>
<li>Zone は非同期処理内にて発生したエラーを検出できる</li>
<li>Angular のパーフォーマンスにとって大事なことはデータの変更検出をどのように行うか</li>
<li>データの変更は非同期処理の中でしか起こらない</li>
<li>DOM に変更が必要な事態が発生してるかもしれないというタイミングを Zone が教えてくれる</li>
<li>Angaulr は Change Detection という仕組みで親から子へ変更検知を伝え、末端の子まで伝わる１回分の処理をターンと呼ぶ</li>
<li>１ターンの中で１回のダーティーチェッキング（オブジェクトの変更管理）を行う</li>
<li>１系にあったような変更検知が変更検知を呼ぶダイジェストループは起きない</li>
<li>Zone はアプリ内で発生する非同期処理の終了時にこのターンを走らせる</li>
</ul>
<p>aync / await と併用する上で大事なことは</p>
<ul>
<li>Zone はあらゆる非同期処理の開始と終了を傍受できる</li>
<li>Zone は非同期処理に対してコンテキストを持たすことができる</li>
<li>Zone は非同期処理内にて発生したエラーを検出できる</li>
</ul>
<p>の３点。</p>
<h2 id="zone-js-">zone.js を使ってみる</h2>
<p>まずは</p>
<blockquote>
<ul>
<li>Zone は非同期処理に対してコンテキストを持たすことができる</li>
<li>Zone は非同期処理内にて発生したエラーを検出できる</li>
</ul>
</blockquote>
<p>について確認してみる。</p>
<pre><code>require(&#39;zone.js&#39;);

Zone.current.fork({
  properties: {hoge: &#39;HOGE&#39;}
}).run(function (){
  setTimeout(function(){
    console.log(Zone.current.get(&#39;hoge&#39;));
  }, 1000);
});

Zone.current.fork({
  properties: {hoge: &#39;ほげ&#39;}
}).run(function (){
  setTimeout(function(){
    console.log(Zone.current.get(&#39;hoge&#39;));
  }, 500);
});

Zone.current.fork({
  onHandleError: function (delegate, current, target, error){
    console.error(&#39;zoneAwareStack&#39;, error.zoneAwareStack);
  }
}).run(function (){
  setTimeout(function(){
    throw new Error(&#39;エラー！&#39;);
  }, 750);
});
</code></pre><p>この例では 3 つの Zone を定義しており、最初の２つは、コンテキストに相当する properties に任意のデータを設定し、非同期処理内の get() メソッドにてこの設定データを正しく取得できるかを確認している。3 つ目は非同期処理内で発生したエラーを、Zone の定義元でハンドリングできるかの確認。</p>
<p>次のように表示され、いずれも正しいタイミングで正常に処理されていることが分かる。</p>
<pre><code>ほげ
zoneAwareStack Error: エラー！
    at new Error (native)
    at null.&lt;anonymous&gt; (/Users/cyokodog/Dev/github/esnext/zone/dest/02/index.js:38:11) [unnamed]
    at timer [as _onTimeout] (/Users/cyokodog/Dev/github/esnext/zone/node_modules/zone.js/dist/zone-node.js:1739:29) [&lt;root&gt;]
    at Timer.listOnTimeout (timers.js:92:15) [&lt;root&gt;]
HOGE
</code></pre><h2 id="zone-js-async-await-">zone.js と async / await の併用</h2>
<p>先の async / await のサンプルコードに zone.js を適用し、冗長だった言語設定情報の受け渡しを省き且つ、async / await のエラーハンドリングも zone.js で行うようにしてみる。</p>
<p>index.js</p>
<pre><code>import SETTINGS_JP from &#39;../data/settings_jp&#39;;
import SETTINGS_EN from &#39;../data/settings_EN&#39;;
import fetchGreetMessage from &#39;./fetchGreetMessage&#39;;
import &#39;zone.js&#39;;

Zone.current.fork({
  properties: {
    SETTINGS: SETTINGS_JP
  },
  onHandleError: onHandleError
}).run(() =&gt; {
  fetchGreetMessage(&#39;taro&#39;, &#39;hello&#39;).then(msg =&gt; console.log(msg));
  fetchGreetMessage(&#39;jiro&#39;, &#39;bye&#39;).then(msg =&gt; console.log(msg));
});

Zone.current.fork({
  properties: {
    SETTINGS: SETTINGS_EN
  },
  onHandleError: onHandleError
}).run(() =&gt; {
  fetchGreetMessage(&#39;taro&#39;, &#39;hello&#39;).then(msg =&gt; console.log(msg));
  fetchGreetMessage(&#39;jiro&#39;, &#39;bye&#39;).then(msg =&gt; console.log(msg));
});

function onHandleError(delegate, current, target, error){
  console.error(&#39;エラー発生&#39;, error.rejection.stack);
  return false;
};
</code></pre><p>fetchGreetMessage/index.js</p>
<pre><code>import fetchMessage from &#39;./fetchMessage&#39;;
import fetchName from &#39;./fetchName&#39;;

export default async (userId, msgId) =&gt; {
  const name = await fetchName(userId) || &#39;&#39;;
  const message = await fetchMessage(msgId) || &#39;&#39;;
  return `${message}, ${name}`;
}
</code></pre><p>fetchGreetMessage/fetchName.js</p>
<pre><code>export default userId =&gt; {
  const settings = Zone.current.get(&#39;SETTINGS&#39;);
  if(!settings){
    throw new Error(&#39;ZoneからSETTINGSが取得できない...！&#39;);
  }
  return new Promise(resolve =&gt; {
    setTimeout(function(){
      resolve(settings.users[userId]);
    }, 1000);
  });
}
</code></pre><p>fetchGreetMessage/fetchMessage.js</p>
<pre><code>export default msgId =&gt; {
  const settings = Zone.current.get(&#39;SETTINGS&#39;);
  if(!settings){
    throw new Error(&#39;ZoneからSETTINGSが取得できない...！&#39;);
  }
  return new Promise(resolve =&gt; {
    setTimeout(function(){
      resolve(settings.messages[msgId]);
    }, 2000);
  });
}
</code></pre><p>実行すると次のように表示される。</p>
<pre><code>こんにちわ, 太郎
さようなら, 次郎
こんにちわ, Taro
さようなら, Jiro
</code></pre><p>名前は日英とも正しく取得されてるが、挨拶がすべて日本語で取得されてしまっている。名前取得、挨拶取得の順で await 指定で実行しているが、後発の非同期処理に正しいコンテキストが適用されないっぽい。</p>
<p>以下のように素直に Promise を使えば正常に処理される。</p>
<pre><code>return Promise.all([
  fetchName(userId),
  fetchMessage(msgId)
]).then(result =&gt; {
  return `${result[1]}, ${result[0]}`
});

/**
以下のように表示される

こんにちわ, 太郎
さようなら, 次郎
Hello, Taro
Bye, Jiro
*/
</code></pre><p><strong>コンテキストデータの共有目的で、zone.js と async / await を併用するのはやめたほうがよさそう。</strong>
エラー処理については強制的に非同期処理内でエラーを発生させたところ、正常にハンドリングされることが確認できた。</p>
<p>ちなみに require(&#39;zone.js&#39;) はルートモジュールで一回読み込めば、以降どの子モジュールからでも Zone が参照可能になる。</p>
<h2 id="-zone-js-">フロントエンドで zone.js を使ってみる</h2>
<blockquote>
<p>Zone はあらゆる非同期処理の開始と終了を傍受できる</p>
</blockquote>
<p>これについてはフロントエンドの実装で試してみる。得に「こう使ったらうれしいな」って事例が思い浮かばなかったので、以下のように非同期処理の終了を、モデル変更検出のタイミングとして活用してみる。</p>
<ol>
<li>なにかしらの非同期処理が完了した場合、</li>
<li>未完了の非同期処理（タスク）が存在しなかったら</li>
<li>「モデルが変更されてるかもしれないよ！」emitterを投げる</li>
</ol>
<p>ここまでを zone.js 側の裏の処理として実行させ、アプリ側は 3 の emitter を受けとたら、モデルの状態をチェックして変更されていた場合はビューを更新する。</p>
<h4 id="demo">demo</h4>
<h5 id="html">html</h5>
<pre><code>&lt;iframe src=&quot;http://www.cyokodog.net/zone_study/demo/03/&quot; style=&quot;height:400px&quot;&gt;&lt;/iframe&gt;
</code></pre><p>「GET TIME」ボタンを押すと非同期で現在時間を取得し表示するという単純なもの。コンパイルは browserify と babelify で行っている。</p>
<pre><code>browserify ./demo/03/index.js -t babelify -o ./demo/03/bundle.js
</code></pre><p>実装は次のとおり。</p>
<p>index.js</p>
<pre><code class="lang-JavaScript">// 何故か import だと Promise.then がスケジュールされないので、requireで読み込む
// import &#39;zone.js&#39;;
require(&#39;zone.js&#39;);
import {EventEmitter} from &#39;events&#39;;
import TimeStacker from &#39;./TimeStacker&#39;;
import zoneSettings from &#39;./zoneSettings&#39;;

Zone.current.fork(zoneSettings).run(() =&gt; {

  const emitter = Zone.current.get(&#39;emitter&#39;);
  const timeStacker = new TimeStacker();

  let lastHtml = &#39;&#39;;

  // モデルが変更されたかもよイベントを受け取ったら...
  emitter.on(&#39;checkDataChanged&#39;, () =&gt; {

    // 変更されていたたら...
    const html = timeStacker.getHtml();
    if(lastHtml !== html){

      // ビューを書き換える
      document.querySelector(&#39;.state&#39;).innerHTML = html;
      lastHtml = html;
      console.log(&#39;----------draw&#39;);
    }
  });

  document.querySelector(&#39;.start&#39;).addEventListener(&#39;click&#39;, () =&gt; {

    // 今の時分秒をモデルにロードする
    timeStacker.loadCurrentTime();

  }, false);
});
</code></pre>
<p>裏で動く zone.js 側は次の通り。</p>
<p>zoneSettings.js</p>
<pre><code class="lang-JavaScript">import {EventEmitter} from &#39;events&#39;;

export default {
  properties: {
    state: {
      changedPossibility: false,
    },
    emitter: new EventEmitter
  },
  onHasTask: function(parent, current, target, hasTask) {
    const state = Zone.current.get(&#39;state&#39;);
    const emitter = Zone.current.get(&#39;emitter&#39;);
    state.changedPossibility = !hasTask.macroTask &amp;&amp; !hasTask.microTask;
    if(state.changedPossibility){
      emitter.emit(&#39;checkDataChanged&#39;);
    }
  },
  onScheduleTask: function(parentZoneDelegate, currentZone, targetZone, task) {
    console.log(`onScheduleTask ${task.source}`);
    parentZoneDelegate.scheduleTask(targetZone, task);
  },
  onInvokeTask: function(parentZoneDelegate, currentZone, targetZone, task, applyThis, applyArgs) {
    console.log(`onInvokeTask ${task.source}`);
    const state = Zone.current.get(&#39;state&#39;);
    const emitter = Zone.current.get(&#39;emitter&#39;);
    emitter.emit(&#39;checkDataChanged&#39;);
    parentZoneDelegate.invokeTask(targetZone, task, applyThis, applyArgs);
  }
}
</code></pre>
<p>onXxxTask とあるが、タスクとはコールバック関数のことを指す。例えば以下は、関数 f がタスクであり、setTimeout() によりタスクが登録され、これらタスクが実行待ち状態になってることを指し、スケジュールと呼ぶ。</p>
<pre><code>setTimeout(function f(){}, 1000):
</code></pre><p>onScheduleTask() はスケジューリングの際に実行され、onInvokeTask() はタスクが実行される直前に実行される。</p>
<p>これらのタスクは非同期で実行されるが故に、複数のタスクが未実行で保持されてる状態にも成りえる。onHasTask() は、これらのタスクの実行待ち状態が変化した時に実行される。上記コードでは hasTask.macroTask、hasTask.microTask を参照し実行待ちタスクの有無を参照してるが、他にも hasTask.eventTask がある。タスクの種類は次のように分類される。</p>
<ul>
<li>MicroTask : キャンセルできない一回だけ実行されるタスク（Promise の resolve 等）</li>
<li>MacroTask : キャンセル可能で一回以上遅延実行されるタスク（setTimeout, setInterval 等）</li>
<li>EventTask : イベント発生時に実行されるタスク（addEventListener 等）</li>
</ul>
<p>EventTask については cancelEventListener() を実行しない限り、タスクは常に実行待ち状態のままなので、上記のコードでは得に参照してない。</p>
<p>非同期で取得した時間をストックして、HTML に変換するクラスは次のとおり。非同期処理については、せっかくなので async / await を使ってみる。</p>
<p>TimeStacker.js</p>
<pre><code>export default class TimeStacker {

  constructor(){
    this.times = [];
  }

  async loadCurrentTime (){
    const time = await this.fetchTime();
    if(!this.times.length || this.times[this.times.length-1] !== time){
      this.times.push(time);
    }
  }

  getHtml () {
    if(!this.times.length) {
      return &#39;&#39;;
    }
    const list = this.times.map(time =&gt; {
      return `&lt;li&gt;${time}&lt;/li&gt;`;
    }).join(&#39;&#39;);
    return `&lt;ul&gt;${list}&lt;/ul&gt;`;
  }

  fetchTime (){
    return new Promise(resolve =&gt; {
      setTimeout(function(){
        const date = new Date;
        const hours = (date.getHours()+&#39;&#39;).padStart(2,&#39;0&#39;);
        const minutes = (date.getMinutes()+&#39;&#39;).padStart(2,&#39;0&#39;);
        const seconds = (date.getSeconds()+&#39;&#39;).padStart(2,&#39;0&#39;);
        const time = `${hours}:${minutes}:${seconds}`;
        resolve(time);
      }, 500);
    });
  }
}
</code></pre><h2 id="-">参考にしたサイト</h2>
<ul>
<li><a href="https://github.com/angular/zone.js/">angular/zone.js: Implements Zones for JavaScript</a></li>
<li><a href="http://qiita.com/kodo_san/items/b31d8125cce438ff3706">async awaitでキレイなコードが書けないと辛い気持ちになってたところ、zone.jsを使ったらいろいろと解決できそうなことが分かった - Qiita</a></li>
<li><a href="http://qiita.com/Quramy/items/83f4fbc6755309f78ad2">Angular 2とZone.jsとテストの話 - Qiita</a></li>
<li><a href="http://qiita.com/ukyo/items/1775f5f09bbd9b5c2978">Angularでイベントから無駄にChange Detectionを走らせないためにすべきこと - Qiita</a></li>
</ul>

    </div>

  </article>
</div>

  <div class="l-page-nav">
    <div class="l-page-nav__body">
  
  <!--
      <div class="wp-widget">
        <div class="wp-widget__header">OTHER BLOG</div>
        <div class="menu-other-blog-container">
          <ul id="menu-other-blog" class="menu">
            <li id="menu-item-207" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-207"><a href="http://cyokodog.tumblr.com/">CYOKOLOG | Tumblr</a></li>
            <li id="menu-item-208" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-208"><a href="http://d.hatena.ne.jp/cyokodog/">Cyokodog :: Diary | Hatena</a></li>
            <li id="menu-item-209" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-209"><a href="http://d.hatena.ne.jp/cyokodog-memo/">Cyokodog :: Memo | Hatena</a></li>
          </ul>
        </div>
      </div>
  
      <div class="wp-widget">
        <div class="wp-widget__header">Category</div>
        <ul>
          <li><a href="/category/angular/">Angular</a></li>
          <li><a href="/category/backbone-js/">Backbone.js</a></li>
          <li><a href="/category/jquery/">jQuery</a></li>
          <li><a href="/category/info/">Information</a></li>
          <li><a href="/category/life/">Life</a></li>
          <li><a href="/category/javascript/">JavaScript</a></li>
          <li><a href="/category/wordpress/">WordPress</a></li>
          <li><a href="/category/cloud-service/">Cloud Service</a></li>
        </ul>
      </div>
  
      <div class="wp-widget">
        <div class="wp-widget__header">Recent Posts</div>
        <ul>
          <li><a href="/blog/zone-async-await/">zone.js と async / await を併用してみる</a></li>
          <li><a href="/blog/mediacaptureandstreams-and-mediarecorder/">Media Capture and Streams と MediaRecorder のその後と GitHubの複数アカウント利用方法メモ</a></li>
          <li><a href="/blog/bitbar/">BitBar を試してみる</a></li>
          <li><a href="/blog/angular-cli/">Angular CLI を試してみる</a></li>
          <li><a href="/blog/riot/">はじめてのRiot.js</a></li>
          <li><a href="/blog/facebook-flux/">はじめてのfacebook/flux</a></li>
          <li><a href="/blog/reactjs/">はじめてのReact.js</a></li>
          <li><a href="/blog/angular2/">Angular2で簡易ブログを作ってみる</a></li>
          <li><a href="/blog/media-capture-and-streams-web-audio-api/">Media Capture and Streams と Web Audio API で実現する録画・録音・ WAVファイルの生成</a></li>
          <li><a href="/blog/web-speechi-api/">ブラウザのみで音声認識とテキスト読み上げを実現する Web Speech API</a></li>
          <li><a href="/blog/thinking-toc/">TOC（目次メニュー）の実装方法について考えてみる</a></li>
          <li><a href="/blog/web-audio-api-music/">HTML5 の Web Audio API で音楽してみる</a></li>
          <li><a href="/blog/first-node-js/">Windows ではじめてみる Node.js</a></li>
          <li><a href="/blog/angularjs/">MVWフロントエンド・フレームワーク、AngularJS をはじめてみる</a></li>
          <li><a href="/blog/backbone-js/">Backbone.js ではじめるクライアントサイド MVC プログラミング</a></li>
          <li><a href="/blog/pull-request-github/">Pull Request ではじめてみる！GitHub ソーシャルコーディング</a></li>
          <li><a href="/blog/javascript-prototype/">JavaScript の prototype オブジェクト入門</a></li>
          <li><a href="/blog/easy-code-prettify-doc/">マークダウンにも優しいライブデモ対応シンタックスハイライター jQuery プラグイン</a></li>
          <li><a href="/blog/ex-code-prettify-v05/">Ex Code Prettify をバージョンアップしました【追記あり】</a></li>
          <li><a href="/blog/sk8-bs-bordslide/">うちの小３男子がダウンレールでＢ／Ｓボードスライドを習得した</a></li>
          <li><a href="/blog/twitter-cards/">WordPress 製のブログを Twitter カードに対応させてみた</a></li>
          <li><a href="/blog/wordpress-ogp/">WordPress 製のブログを OGP(Open Graph Protocol) に対応させてみた</a></li>
          <li><a href="/blog/fade-page-doc/">フェード効果で「ふわっ」とページ切替を行う jQuery プラグイン</a></li>
          <li><a href="/blog/fade-page-change/">フェードイン／フェードアウトで「ふわっ」とページを切り替える【追記あり】</a></li>
          <li><a href="/blog/fit-sidebar-doc/">レスポンシブ対応でサイドメニューを一定範囲で固定表示する jQuery プラグイン</a></li>
          <li><a href="/blog/making-fg-chopper/">挑戦！自作フィギュア　ワンピース・チョッパー編</a></li>
          <li><a href="/blog/sketch-akuma-cyoojin/">大人だけど全力で「７人の悪魔超人編」の絵を描いてみた</a></li>
          <li><a href="/blog/making-fg-ramen-2/">挑戦！自作フィギュア　ラーメンマン編　その２</a></li>
          <li><a href="/blog/making-fg-ramen-1/">挑戦！自作フィギュア　ラーメンマン編　その１</a></li>
          <li><a href="/blog/fitbar-doc/">ツールバーをスクロール位置に応じ画面の上下にピタっと固定表示する jQuery プラグイン</a></li>
          <li><a href="/blog/picasa-zoom-doc/">Picasa の写真の拡大／縮小を簡単に行うことできる jQuery プラグイン</a></li>
          <li><a href="/blog/update-easy-social-buttons-and-social-info/">Easy Social Buttons と Social Info で Google+ の共有数を表示／取得できるようにしました</a></li>
          <li><a href="/blog/making-fg-2/">挑戦！自作フィギュア　ウォーズマン編　その２</a></li>
          <li><a href="/blog/dqy-excel/">システム管理者におすすめ！SQL の実行結果を手軽にエクセルに出力する方法</a></li>
          <li><a href="/blog/mailto-doc/">mailto:リンク機能を利用しやすくする jQuery プラグイン</a></li>
          <li><a href="/blog/ml-narisumasi-gmail-and-gas/">メーリングリストの「なりすまし」判定を Gmail と Google Apps Script で回避する方法</a></li>
          <li><a href="/blog/making-fg-1/">挑戦！自作フィギュア　ウォーズマン編　その１</a></li>
          <li><a href="/blog/find-fg-akiba-3/">第３回アキバ・フィギュア探しの旅</a></li>
          <li><a href="/blog/easy-social-buttons-doc/">はてブ、Twitter、Facebook、Google+ のソーシャルボタンをシンプルに表示する jQuery プラグイン</a></li>
          <li><a href="/blog/wordpress-openshift/">PaaS で動かす WordPress ＋ OpenShift 入門</a></li>
          <li><a href="/blog/first-appengine-and-struts2/">Google App Engine for Java 入門 ＋ Struts2 デプロイ手順</a></li>
          <li><a href="/blog/first-struts2/">2014年度版 Eclipse + Struts2 による Java Web アプリ開発入門</a></li>
          <li><a href="/blog/social-info-doc/">はてブ、Twitter、Facebook、Google+ などのソーシャル系サービスの API を手軽に使用できるようにする jQuery プラグイン</a></li>
          <li><a href="/blog/easy-feed-doc/">Google Feed API を手軽に利用できるようにする jQuery プラグイン</a></li>
          <li><a href="/blog/find-fg-akiba-2/">第２回アキバ・フィギュア探しの旅</a></li>
          <li><a href="/blog/sketch-kinnikuman/">大人だけど全力でキン肉マンの絵を描いてみた</a></li>
          <li><a href="/blog/hash-contents-doc/">location.hash に応じタブ、アコーディオン、ツリービュー形式等でコンテンツを切り替える jQuery プラグイン</a></li>
          <li><a href="/blog/keep-position-doc/">ページのスクロール位置を維持したままフォーム送信やページ切り替えができる jQuery プラグイン</a></li>
          <li><a href="/blog/find-fg-akiba-1/">第１回アキバ・フィギュア探しの旅</a></li>
          <li><a href="/blog/keyinfo-doc/">入力キーの種類を調べることができる jQuery プラグイン</a></li>
          <li><a href="/blog/parse-url-doc/">URL の構成要素や QueryString の値を簡単に参照できるようにする jQuery プラグイン</a></li>
          <li><a href="/blog/ex-scroll-doc/">スクロールイベントの開始／終了、方向を判別できる jQuery プラグイン</a></li>
          <li><a href="/blog/ex-code-prettify-doc/">その場で編集／実行できるシンタックスハイライター jQuery プラグイン</a></li>
          <li><a href="/blog/garamodel02/">ガラクタで重厚感のあるおもちゃを作ってみた ～その２～</a></li>
          <li><a href="/blog/garamodel/">ガラクタで重厚感のあるおもちゃを作ってみた</a></li>
          <li><a href="/blog/bootstrap-datetimepicker-ja/">Bootstrap ベースの日付／時刻ピッカーを日本語環境向けにカスタマイズした jQuery プラグイン</a></li>
          <li><a href="/blog/jquery-hash-contents/">location.hash の値に応じ表示コンテンツを切り替える jQuery プラグインを作ってみた</a></li>
          <li><a href="/blog/jquery-keep-position/">フォームデータ登録後もページスクロール位置を維持する方法を考えてみた</a></li>
          <li><a href="/blog/jquery-sitekit/">Web サイト作成時に必要になりがちな機能をまとめた jQuery プラグイン</a></li>
          <li><a href="/blog/jquery-ex-code-prettify/">Google Code Prettify のかゆいとこをなんとかする jQuery プラグインを書いてみた</a></li>
          <li><a href="/blog/wordpress-markdown-behave_js/">WordPress の Markdown 環境を『Behave.js』でさらに快適にしてみる</a></li>
          <li><a href="/blog/gmail-client/">Google 以外のメールアカウントで Gmail をメールクライアントとして使用する方法</a></li>
          <li><a href="/blog/wordpress-my-setting-plugin-social/">WordPress のこまごま設定プラグインにソーシャルボタン設置機能、他を追加した</a></li>
          <li><a href="/blog/wordpress-my-setting-plugin/">こまごました設定をまとめてできる WordPress プラグイン</a></li>
          <li><a href="/blog/extablefilter/">汎用性重視のテーブルフィルタリング系 jQuery プラグイン</a></li>
          <li><a href="/blog/jquery19-browser/">jQuery 1.9 で $.browser が使えなくなってしまった対策</a></li>
          <li><a href="/blog/jquery-simple-table-filter/">jQuery によるシンプルなテーブルフィルタリング処理の実装を考えてみる</a></li>
          <li><a href="/blog/first-post/">引っ越してきました</a></li>
        </ul>
      </div>
  -->
    </div><!-- l-page-nav -->
  </div><!-- l-page-nav__body -->

  	</div>
  </div><!-- l-contents -->


  <style>
  .l-banner{
    xpadding-top:128px;
    padding-bottom:128px;
    background-image: url(https://lh4.googleusercontent.com/-oCiTMRZC7KI/VEaEI6xu2aI/AAAAAAAAIKk/da528QPvTYY/s800/IMG_1723.png);
    background-repeat: no-repeat;
    background-position: bottom right;
    background-size: 640px
  }
  l-footer{
    margin-top:0;
  }
  .banner iframe,
  .banner img{
    xmargin:16px 0 0;
    max-width: 260px;
    xmax-height: 150px;
    xdisplay:block;
    border:none;
  }
  .banner__pxgrid{
  }
  </style>

  <div class="l-contents l-banner">
    <div class="u-layout-center">
      <div class="banner">
        <div>
          <a href="http://www.codegrid.net/"><img src="/static/img/codegrid.png"/></a><a href="https://www.pxgrid.com/"><img class="banner__pxgrid" src="/static/img/pxgrid.png"/></a>
        </div>
        <div>
          <iframe src="https://www.youtube.com/embed/gZvCPu7qZiM?rel=0&amp;controls=0&amp;showinfo=0" frameborder="0" allowfullscreen></iframe><iframe src="https://www.youtube.com/embed/VKWWFvWsPUg?rel=0&amp;controls=0&amp;showinfo=0" frameborder="0" allowfullscreen></iframe>
        </div>
        <div>
        <iframe src="https://www.youtube.com/embed/5DU59_X-8lw?rel=0&amp;controls=0&amp;showinfo=0" frameborder="0" allowfullscreen></iframe>
        </div>
      </div>
    </div>
  </div><!-- l-contents -->


  <div class="l-footer">
    <div class="u-layout-center">
      <div class="wp-widget">
        <div class="wp-widget__header" id="allPosts">All Posts</div>
          <ul>
            <li>
              <span class="post-date">2017-05-06</span>
              <a href="/blog/zone-async-await/">zone.js と async / await を併用してみる</a>
            </li>
            <li>
              <span class="post-date">2016-08-23</span>
              <a href="/blog/mediacaptureandstreams-and-mediarecorder/">Media Capture and Streams と MediaRecorder のその後と GitHubの複数アカウント利用方法メモ</a>
            </li>
            <li>
              <span class="post-date">2016-07-05</span>
              <a href="/blog/bitbar/">BitBar を試してみる</a>
            </li>
            <li>
              <span class="post-date">2016-06-30</span>
              <a href="/blog/angular-cli/">Angular CLI を試してみる</a>
            </li>
            <li>
              <span class="post-date">2016-06-14</span>
              <a href="/blog/riot/">はじめてのRiot.js</a>
            </li>
            <li>
              <span class="post-date">2016-06-11</span>
              <a href="/blog/facebook-flux/">はじめてのfacebook/flux</a>
            </li>
            <li>
              <span class="post-date">2016-06-09</span>
              <a href="/blog/reactjs/">はじめてのReact.js</a>
            </li>
            <li>
              <span class="post-date">2016-05-18</span>
              <a href="/blog/angular2/">Angular2で簡易ブログを作ってみる</a>
            </li>
            <li>
              <span class="post-date">2015-04-08</span>
              <a href="/blog/media-capture-and-streams-web-audio-api/">Media Capture and Streams と Web Audio API で実現する録画・録音・ WAVファイルの生成</a>
            </li>
            <li>
              <span class="post-date">2015-03-18</span>
              <a href="/blog/web-speechi-api/">ブラウザのみで音声認識とテキスト読み上げを実現する Web Speech API</a>
            </li>
            <li>
              <span class="post-date">2015-03-09</span>
              <a href="/blog/thinking-toc/">TOC（目次メニュー）の実装方法について考えてみる</a>
            </li>
            <li>
              <span class="post-date">2015-02-21</span>
              <a href="/blog/web-audio-api-music/">HTML5 の Web Audio API で音楽してみる</a>
            </li>
            <li>
              <span class="post-date">2015-01-28</span>
              <a href="/blog/first-node-js/">Windows ではじめてみる Node.js</a>
            </li>
            <li>
              <span class="post-date">2015-01-17</span>
              <a href="/blog/angularjs/">MVWフロントエンド・フレームワーク、AngularJS をはじめてみる</a>
            </li>
            <li>
              <span class="post-date">2015-01-07</span>
              <a href="/blog/backbone-js/">Backbone.js ではじめるクライアントサイド MVC プログラミング</a>
            </li>
            <li>
              <span class="post-date">2014-12-23</span>
              <a href="/blog/pull-request-github/">Pull Request ではじめてみる！GitHub ソーシャルコーディング</a>
            </li>
            <li>
              <span class="post-date">2014-12-14</span>
              <a href="/blog/javascript-prototype/">JavaScript の prototype オブジェクト入門</a>
            </li>
            <li>
              <span class="post-date">2014-11-16</span>
              <a href="/blog/easy-code-prettify-doc/">マークダウンにも優しいライブデモ対応シンタックスハイライター jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2014-11-06</span>
              <a href="/blog/ex-code-prettify-v05/">Ex Code Prettify をバージョンアップしました【追記あり】</a>
            </li>
            <li>
              <span class="post-date">2014-10-26</span>
              <a href="/blog/sk8-bs-bordslide/">うちの小３男子がダウンレールでＢ／Ｓボードスライドを習得した</a>
            </li>
            <li>
              <span class="post-date">2014-10-05</span>
              <a href="/blog/twitter-cards/">WordPress 製のブログを Twitter カードに対応させてみた</a>
            </li>
            <li>
              <span class="post-date">2014-10-02</span>
              <a href="/blog/wordpress-ogp/">WordPress 製のブログを OGP(Open Graph Protocol) に対応させてみた</a>
            </li>
            <li>
              <span class="post-date">2014-09-29</span>
              <a href="/blog/fade-page-doc/">フェード効果で「ふわっ」とページ切替を行う jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2014-09-24</span>
              <a href="/blog/fade-page-change/">フェードイン／フェードアウトで「ふわっ」とページを切り替える【追記あり】</a>
            </li>
            <li>
              <span class="post-date">2014-09-23</span>
              <a href="/blog/fit-sidebar-doc/">レスポンシブ対応でサイドメニューを一定範囲で固定表示する jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2014-09-15</span>
              <a href="/blog/making-fg-chopper/">挑戦！自作フィギュア　ワンピース・チョッパー編</a>
            </li>
            <li>
              <span class="post-date">2014-07-24</span>
              <a href="/blog/sketch-akuma-cyoojin/">大人だけど全力で「７人の悪魔超人編」の絵を描いてみた</a>
            </li>
            <li>
              <span class="post-date">2014-07-15</span>
              <a href="/blog/making-fg-ramen-2/">挑戦！自作フィギュア　ラーメンマン編　その２</a>
            </li>
            <li>
              <span class="post-date">2014-07-11</span>
              <a href="/blog/making-fg-ramen-1/">挑戦！自作フィギュア　ラーメンマン編　その１</a>
            </li>
            <li>
              <span class="post-date">2014-06-24</span>
              <a href="/blog/fitbar-doc/">ツールバーをスクロール位置に応じ画面の上下にピタっと固定表示する jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2014-06-17</span>
              <a href="/blog/picasa-zoom-doc/">Picasa の写真の拡大／縮小を簡単に行うことできる jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2014-06-09</span>
              <a href="/blog/update-easy-social-buttons-and-social-info/">Easy Social Buttons と Social Info で Google+ の共有数を表示／取得できるようにしました</a>
            </li>
            <li>
              <span class="post-date">2014-06-09</span>
              <a href="/blog/making-fg-2/">挑戦！自作フィギュア　ウォーズマン編　その２</a>
            </li>
            <li>
              <span class="post-date">2014-06-09</span>
              <a href="/blog/dqy-excel/">システム管理者におすすめ！SQL の実行結果を手軽にエクセルに出力する方法</a>
            </li>
            <li>
              <span class="post-date">2014-06-05</span>
              <a href="/blog/mailto-doc/">mailto:リンク機能を利用しやすくする jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2014-05-28</span>
              <a href="/blog/ml-narisumasi-gmail-and-gas/">メーリングリストの「なりすまし」判定を Gmail と Google Apps Script で回避する方法</a>
            </li>
            <li>
              <span class="post-date">2014-05-25</span>
              <a href="/blog/making-fg-1/">挑戦！自作フィギュア　ウォーズマン編　その１</a>
            </li>
            <li>
              <span class="post-date">2014-05-18</span>
              <a href="/blog/find-fg-akiba-3/">第３回アキバ・フィギュア探しの旅</a>
            </li>
            <li>
              <span class="post-date">2014-03-25</span>
              <a href="/blog/easy-social-buttons-doc/">はてブ、Twitter、Facebook、Google+ のソーシャルボタンをシンプルに表示する jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2014-03-05</span>
              <a href="/blog/wordpress-openshift/">PaaS で動かす WordPress ＋ OpenShift 入門</a>
            </li>
            <li>
              <span class="post-date">2014-03-02</span>
              <a href="/blog/first-appengine-and-struts2/">Google App Engine for Java 入門 ＋ Struts2 デプロイ手順</a>
            </li>
            <li>
              <span class="post-date">2014-02-25</span>
              <a href="/blog/first-struts2/">2014年度版 Eclipse + Struts2 による Java Web アプリ開発入門</a>
            </li>
            <li>
              <span class="post-date">2014-02-06</span>
              <a href="/blog/social-info-doc/">はてブ、Twitter、Facebook、Google+ などのソーシャル系サービスの API を手軽に使用できるようにする jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2014-01-28</span>
              <a href="/blog/easy-feed-doc/">Google Feed API を手軽に利用できるようにする jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2014-01-04</span>
              <a href="/blog/find-fg-akiba-2/">第２回アキバ・フィギュア探しの旅</a>
            </li>
            <li>
              <span class="post-date">2013-12-17</span>
              <a href="/blog/sketch-kinnikuman/">大人だけど全力でキン肉マンの絵を描いてみた</a>
            </li>
            <li>
              <span class="post-date">2013-12-08</span>
              <a href="/blog/hash-contents-doc/">location.hash に応じタブ、アコーディオン、ツリービュー形式等でコンテンツを切り替える jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2013-12-03</span>
              <a href="/blog/keep-position-doc/">ページのスクロール位置を維持したままフォーム送信やページ切り替えができる jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2013-12-02</span>
              <a href="/blog/find-fg-akiba-1/">第１回アキバ・フィギュア探しの旅</a>
            </li>
            <li>
              <span class="post-date">2013-11-25</span>
              <a href="/blog/keyinfo-doc/">入力キーの種類を調べることができる jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2013-11-05</span>
              <a href="/blog/parse-url-doc/">URL の構成要素や QueryString の値を簡単に参照できるようにする jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2013-10-31</span>
              <a href="/blog/ex-scroll-doc/">スクロールイベントの開始／終了、方向を判別できる jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2013-09-23</span>
              <a href="/blog/ex-code-prettify-doc/">その場で編集／実行できるシンタックスハイライター jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2013-09-07</span>
              <a href="/blog/garamodel02/">ガラクタで重厚感のあるおもちゃを作ってみた ～その２～</a>
            </li>
            <li>
              <span class="post-date">2013-09-04</span>
              <a href="/blog/garamodel/">ガラクタで重厚感のあるおもちゃを作ってみた</a>
            </li>
            <li>
              <span class="post-date">2013-08-14</span>
              <a href="/blog/bootstrap-datetimepicker-ja/">Bootstrap ベースの日付／時刻ピッカーを日本語環境向けにカスタマイズした jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2013-08-12</span>
              <a href="/blog/jquery-hash-contents/">location.hash の値に応じ表示コンテンツを切り替える jQuery プラグインを作ってみた</a>
            </li>
            <li>
              <span class="post-date">2013-07-31</span>
              <a href="/blog/jquery-keep-position/">フォームデータ登録後もページスクロール位置を維持する方法を考えてみた</a>
            </li>
            <li>
              <span class="post-date">2013-07-03</span>
              <a href="/blog/jquery-sitekit/">Web サイト作成時に必要になりがちな機能をまとめた jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2013-04-24</span>
              <a href="/blog/jquery-ex-code-prettify/">Google Code Prettify のかゆいとこをなんとかする jQuery プラグインを書いてみた</a>
            </li>
            <li>
              <span class="post-date">2013-04-17</span>
              <a href="/blog/wordpress-markdown-behave_js/">WordPress の Markdown 環境を『Behave.js』でさらに快適にしてみる</a>
            </li>
            <li>
              <span class="post-date">2013-04-11</span>
              <a href="/blog/gmail-client/">Google 以外のメールアカウントで Gmail をメールクライアントとして使用する方法</a>
            </li>
            <li>
              <span class="post-date">2013-03-31</span>
              <a href="/blog/wordpress-my-setting-plugin-social/">WordPress のこまごま設定プラグインにソーシャルボタン設置機能、他を追加した</a>
            </li>
            <li>
              <span class="post-date">2013-03-25</span>
              <a href="/blog/wordpress-my-setting-plugin/">こまごました設定をまとめてできる WordPress プラグイン</a>
            </li>
            <li>
              <span class="post-date">2013-03-06</span>
              <a href="/blog/extablefilter/">汎用性重視のテーブルフィルタリング系 jQuery プラグイン</a>
            </li>
            <li>
              <span class="post-date">2013-02-27</span>
              <a href="/blog/jquery19-browser/">jQuery 1.9 で $.browser が使えなくなってしまった対策</a>
            </li>
            <li>
              <span class="post-date">2013-02-25</span>
              <a href="/blog/jquery-simple-table-filter/">jQuery によるシンプルなテーブルフィルタリング処理の実装を考えてみる</a>
            </li>
            <li>
              <span class="post-date">2013-02-25</span>
              <a href="/blog/first-post/">引っ越してきました</a>
            </li>
          </ul>
      </div>
    </div>
  </div>

  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-4142215-12']);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>



<script type="text/javascript" src="/theme/cyokodog/js/bundle.js?"></script>



  <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js?ver=1.0'></script>
  <script type='text/javascript' src='/theme/cyokodog/index.jsx?'></script>

<script>
//document.querySelector('.searchForm')
$('.searchForm').on('submit' , function(){
  $('.searchForm__queryData').val('site:www.cyokodog.net ' + $('.searchForm__query').val());
});
</script>

<style>
.easy-social-buttons-container{
  margin-bottom:32px;
}

</style>

</body>
</html>


